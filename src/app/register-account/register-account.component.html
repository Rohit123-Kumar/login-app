<div style="background-color: aliceblue;">
  <div>
    <nav class="navbar navbar-default" style="width:100%;
    border: 1px solid #ccc; background-color: purple;">&nbsp;&nbsp;
    <div class="container-fluid">
      <div class="navbar-header">
      </div>
      <h2 style="color: white;">Create a new user account</h2>
      <a routerLink="/" routerLinkActive="active" 
        [routerLinkActiveOptions]="{exact:true}">
        <h4>Home</h4>
      </a>
    </div>
    </nav>
  </div>
  <div class="container-fluid" style="top: 10%; left: 10%; position: relative;">
    <br>
    
    <form #userForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="form-group">
        <label>User Name</label>&nbsp;<label style="color: red;">*</label>
        <input style="width: 40%;" type="text" class="form-control" required #username="ngModel" 
          [class.is-invalid]="username.invalid && username.touched" name="username" 
          [(ngModel)]="userModel.username">
        <small [style]="invalidDisplay">username already exist</small>
        <small class="text-danger" [class.d-none]="username.valid || username.untouched">
          username is required
        </small>
      </div>

      <div class="form-group">
        <label>Password</label>&nbsp;<label style="color: red;">*</label>
        <input type="password" style="width: 40%;" class="form-control" required #password="ngModel" 
        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&].{8,}" [class.is-invalid]="password.invalid && password.touched" name="password" 
          [(ngModel)]="userModel.password">
        <small>Use 8 or more characters with a mix of letters (both uppercase and lowercase), numbers & symbols</small>
        <div *ngIf="password.errors && (password.invalid || password.touched)">
          <small class="text-danger" *ngIf="password.errors.required && password.touched">password is required</small>
          <small class="text-danger" *ngIf="password.errors.pattern">password strength is week</small>    
        </div>
      </div>

      <div class="form-group">
        <label>First Name</label>&nbsp;<label style="color: red;">*</label>
        <input type="text" style="width: 40%;" class="form-control" required #firstname="ngModel" 
        [class.is-invalid]="firstname.invalid && firstname.touched" name="firstname" 
        [(ngModel)]="userModel.firstname">
        <small class="text-danger" [class.d-none]="firstname.valid || firstname.untouched">
          firstname is required
        </small>
      </div>

      <div class="form-group">
        <label>Last Name</label>&nbsp;<label style="color: red;">*</label>
        <input type="text" style="width: 40%;" class="form-control" required #lastname="ngModel" 
        [class.is-invalid]="lastname.invalid && lastname.touched" name="lastname" [(ngModel)]="userModel.lastname">
        <small class="text-danger" [class.d-none]="lastname.valid || lastname.untouched">
          lastname is required
        </small>
      </div>

      <div class="form-group">
        <label>Email</label>&nbsp;<label style="color: red;">*</label>
        <input type="email" style="width: 40%;" class="form-control" required #email="ngModel" 
          pattern="^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" 
          [class.is-invalid]="email.invalid && email.touched" name="email" 
          [(ngModel)]="userModel.email">
        <div *ngIf="email.errors && (email.invalid || email.touched)">
          <small class="text-danger" *ngIf="email.errors.required && email.touched">Email is required</small>
          <small class="text-danger" *ngIf="email.errors.pattern">Email is invalid</small>      
        </div>
      </div>

      <div class="form-group" [class.has-error]="gender.touched && gender.invalid">
        <label>Gender</label>&nbsp;<label style="color: red;">*</label><br>
        <div>
          <input type="radio" required #gender="ngModel" name="gender" value="Male" [(ngModel)]="userModel.gender">
          <label class="radio-inline">Male</label>&nbsp;
          <input type="radio" required  #gender="ngModel" name="gender" value="Female" [(ngModel)]="userModel.gender">
          <label>Female</label>&nbsp;
          <input type="radio" required  #gender="ngModel" name="gender" value="Other" [(ngModel)]="userModel.gender">
          <label>Other</label>
        </div>
        <small class="text-danger" [class.d-none]="gender.valid || gender.untouched">
          gender is required
        </small>
      </div>

      <div class="form-group">
        <label>Date of Birth</label>&nbsp;<label style="color: red;">*</label>&nbsp;
        <input type="date" max="{{ CurrentDate | date:'yyyy-MM-dd'}}" 
        style="width: 40%;" class="form-control" required #dateofbirth="ngModel" 
        [class.is-invalid]="dateofbirth.invalid && dateofbirth.touched" 
        name="dateofbirth" [(ngModel)]="userModel.dateofbirth">
        <small class="text-danger" [class.d-none]="dateofbirth.valid || dateofbirth.untouched">
          Date of birth is required
        </small>
      </div>

      <div class="form-group">
        <label>Phone</label>&nbsp;<label style="color: red;">*</label>
        <input type="tel" style="width: 40%;" class="form-control" required #phone="ngModel" 
        pattern="(0/91)?[7-9][0-9]{9}" [class.is-invalid]="phone.invalid && phone.touched" 
        name="phone" [(ngModel)]="userModel.phone">
        <div *ngIf="phone.errors && (phone.invalid || phone.touched)">
          <small class="text-danger" *ngIf="phone.errors.required && phone.touched">Phone number is required</small>
          <small class="text-danger" *ngIf="phone.errors.pattern">Phone number is invalid</small>      
        </div>
      </div>

      <div class="form-group">
        <label>Address</label>&nbsp;<label style="color: red;">*</label>
        <input type="text" style="width: 40%;" class="form-control" required #address="ngModel" 
        [class.is-invalid]="address.invalid && address.touched" name="address" 
        [(ngModel)]="userModel.address">
        <small class="text-danger" [class.d-none]="address.valid || address.untouched">
          address is required
        </small>
      </div>

      <small>By clicking Sign Up, you agree to our Terms and Data Policy</small>
      <br><br>

      <button [disabled]="userForm.form.invalid" class="btn btn-primary" type="submit">Register</button>
    </form>
  </div><br>
</div>
<br>
<div id="otherfooter">
  <ul>
    <small>English (UK)</small>&nbsp;
    <a href="/">Log In</a>&nbsp;
    <a href="/about">About</a>&nbsp;
    <a href="/help">Help</a>
  </ul>
  <div>
    <ul>
      <small>User Management App Â© 2020</small>
    </ul>
  </div>
</div>
